
@TSC_38
PRINTFORMW 강물에 히나인형을 띄워 저 멀리 떠내려보냈다...
PRINTL
FOR LOCAL,1,41
	IF LOCAL % 2 == 0
		CALL 히나드로우(10,0)
		PRINTL
	ENDIF
	IF RAND:3
		LOCAL:1 = 1
		CALL 히나드로우(10,0)
		PRINTL
	ELSE
		LOCAL:1 = 0
	ENDIF
	CALL 히나드로우(10,0)
	PRINTL
	CALL 히나드로우(0,LOCAL * 2)
	PRINTL
	CALL 히나드로우(1,LOCAL * 2)
	PRINTL
	CALL 히나드로우(2,LOCAL * 2)
	PRINTL
	CALL 히나드로우(3,LOCAL * 2)
	PRINTL
	CALL 히나드로우(4,LOCAL * 2)
	PRINTL
	CALL 히나드로우(10,0)
	PRINTL
	IF LOCAL % 2 == 1
		CALL 히나드로우(10,0)
		PRINTL
	ENDIF
	IF LOCAL:1 == 0
		CALL 히나드로우(10,0)
		PRINTL
	ENDIF
	TWAIT 500,1
	CLEARLINE 9
NEXT
PRINTL
IF TALENT:[[히나]]:사망 || CFLAG:[[히나]]:출금 || CFLAG:[[히나]]:감금됨
	PRINTFORMW 그러나 아무런 일도 없었다
ELSE
	PRINTFORMW 어쩐지 가호가 내린것 같다……
	건치의여신 = 50
ENDIF
ITEM:인스턴트히나인형 --
TIME += 30
DOWNBASE:MASTER:기력 = 50

@TSC_NAME38
#DIMS DYNAMIC 커맨드이름
커맨드이름 = 히나나가시
RESULTS = %커맨드이름%

@TSC_ABLE38

IF MAIN_MAP == 8
	IF CFLAG:현재위치 != P805정상
		RETURN 0
	ENDIF
ELSE
	IF CFLAG:현재위치 != 840
		RETURN 0
	ENDIF
ENDIF
IF !ITEM:인스턴트히나인형
	RETURN 0
ENDIF
IF FESTIVAL() != "히나마츠리"
	RETURN 0
ENDIF
;기력 0
SIF BASE:MASTER:기력 <= 0
	RETURN 0
SIF CFLAG:우후후 == 2
	RETURN 0
;정지 중에는 불가
SIF FLAG:70
	RETURN 0
RETURN 2


@히나드로우(ARG,ARG:1)
#DIM 가로길이 = 100
;가로 9칸 세로 5칸
SELECTCASE ARG
	CASE 0
		SETCOLOR C_AQUA
		FOR LOCAL,0,MAX(1,ARG:1)
			PRINTFORM ~
		NEXT

		SETCOLOR C_AQUA
		PRINTFORM ~ 
		SETCOLOR C_GREEN
		PRINTFORM ( ﾉﾊﾉ) )) 
		SETCOLOR C_AQUA
		PRINTFORM ~
		
		SETCOLOR C_AQUA
		FOR LOCAL,0,MAX(1,가로길이 - 9 - ARG:1)
			PRINTFORM ~
		NEXT
	CASE 1
		SETCOLOR C_AQUA
		FOR LOCAL,0,MAX(1,ARG:1)
			PRINTFORM ~
		NEXT

		SETCOLOR C_AQUA
		PRINTFORM ~ 
		SETCOLOR C_GREEN
		PRINTFORM (
		SETCOLOR 0XFFFFFF
		PRINTFORM ヽﾟ - ﾟ
		SETCOLOR C_GREEN
		PRINTFORM ))
		SETCOLOR C_AQUA
		PRINTFORM ~

		SETCOLOR C_AQUA
		FOR LOCAL,0,MAX(1,가로길이 - 9 - ARG:1)
			PRINTFORM ~
		NEXT
	CASE 2
		SETCOLOR C_AQUA
		FOR LOCAL,0,MAX(1,ARG:1)
			PRINTFORM ~
		NEXT

		SETCOLOR 0XFF6666
		PRINTFORM  |￣〉＼／<=|

		SETCOLOR C_AQUA
		FOR LOCAL,0,MAX(1,가로길이 - 9 - ARG:1)
			PRINTFORM ~
		NEXT
	CASE 3
		SETCOLOR C_AQUA
		FOR LOCAL,0,MAX(1,ARG:1)
			PRINTFORM ~
		NEXT

		SETCOLOR 0XFF6666
		PRINTFORM  | / /∥∥
		SETCOLOR C_AQUA
		PRINTFORM ~~~

		SETCOLOR C_AQUA
		FOR LOCAL,0,MAX(1,가로길이 - 9 - ARG:1)
			PRINTFORM ~
		NEXT
	CASE 4
		SETCOLOR C_AQUA
		FOR LOCAL,0,MAX(1,ARG:1)
			PRINTFORM ~
		NEXT

		SETCOLOR C_AQUA
		PRINTFORM ~~~~
		SETCOLOR 0XFF6666
		PRINTFORM ／∥∥＼
		SETCOLOR C_AQUA
		PRINTFORM ~

		SETCOLOR C_AQUA
		FOR LOCAL,0,MAX(1,가로길이 - 9 - ARG:1)
			PRINTFORM ~
		NEXT
	CASE 10
		SETCOLOR C_AQUA
		PRINTFORM %"~"*104%
ENDSELECT
RESETCOLOR

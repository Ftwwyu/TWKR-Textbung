
@TSC_26
PRINTFORML 결계의 일그러짐이 느껴진다...
PRINTFORML 결계의 틈새 속으로 들어가볼까?
CALL ASK_YN
IF RESULT
	RETURN
ELSE
	CALL 결계탐색
	TIME += 5
ENDIF
RETURN 1


@TSC_NAME26
#DIMS DYNAMIC 커맨드이름
커맨드이름 = 결계의틈새 속으로
RESULTS = %커맨드이름%

@TSC_ABLE26

IF !GROUPMATCH(CFLAG:MASTER:현재위치,GET_MAP_REPLACEMENT(506),GET_MAP_REPLACEMENT(25),GET_MAP_REPLACEMENT(634))
    RETURN 0
ENDIF
;기력 0
SIF BASE:MASTER:기력 <= 0
	RETURN 0
SIF CFLAG:우후후 == 2
	RETURN 0
;정지 중에는 불가
SIF FLAG:70
	RETURN 0
RETURN 2

@결계탐색초기화
VARSET TT_맵
VARSET TT_NOW
VARSET TT_SIGHT
VARSET TT_STABLE
VARSET TT_OBJECT
VARSET TT_OBJECT_TYPE
VARSET TT_GETOUT
VARSET TT_NUM
VARSET TT_SPAWN


@결계탐색
#DIM DYNAMIC TEMP_LINE
;세로, 가로
CALL 결계탐색초기화
TT_TIMEOUT = 10000
CALL 결계_맵생성()
IF TT_SPAWN
	TT_NOW:0 = TT_SPAWN:0
	TT_NOW:1 = TT_SPAWN:1
ENDIF
;---------------------
$결계맵루프
TEMP_LINE = LINECOUNT
DRAWLINE
ALIGNMENT CENTER
CALL 결계맵표시
ALIGNMENT LEFT
DRAWLINE
PRINT 　　
PRINTBUTTON "[↑]",1
PRINT 　　　　
CALLFORM TT_MAP_{TT_NUM}("플레이버텍스트",(TT_맵:(TT_NOW:0):(TT_NOW:1)))
PRINTL
PRINTBUTTON "[←]",2
PRINT 　　
PRINTBUTTON "[→]",3
PRINT 　　
PRINTBUTTON "[상호작용]",5
PRINTFORM 　　　　　지역 안정도 {TT_TIMEOUT/100}.{TT_TIMEOUT%100}％
IF TT_TIMEOUT < 9500
	PRINTFORM (이형의 존재 감지됨) 
ENDIF
IF TT_TIMEOUT < 8999
	PRINTFORM (공간왜곡 발생중) 
ENDIF
PRINTL
PRINT 　　
PRINTBUTTON "[↓]",4
PRINTL
INPUT
IF GROUPMATCH(RESULT,1,2,3,4)
	SELECTCASE RESULT
		CASE 1
			IF TT_NOW:0 == 0 ;세로칸 0번이면
				;여기에 걸리면 저 밑으로 가게 된다, 아마도
			ELSEIF GETBIT(TT_OBJECT_TYPE:(TT_맵:(TT_NOW:0 - 1):(TT_NOW:1)),0)
			ELSE
				TT_TIMEOUT -= TT_STABLEDOWN()
				TT_NOW:0 --
				CALL 결계일그러짐
			ENDIF
		CASE 2
			IF TT_NOW:1 == 0 ;가로칸 0번이면
				;여기에 걸리면 저 밑으로 가게 된다, 아마도
			ELSEIF GETBIT(TT_OBJECT_TYPE:(TT_맵:(TT_NOW:0):(TT_NOW:1 - 1)),0)
			ELSE
				TT_TIMEOUT -= TT_STABLEDOWN()
				TT_NOW:1 --
				CALL 결계일그러짐
			ENDIF
		CASE 3
			IF TT_NOW:1 == TT_맵MAX-1 ;가로칸 끝번이면
				;여기에 걸리면 저 밑으로 가게 된다, 아마도
			ELSEIF GETBIT(TT_OBJECT_TYPE:(TT_맵:(TT_NOW:0):(TT_NOW:1 + 1)),0)
			ELSE
				TT_TIMEOUT -= TT_STABLEDOWN()
				TT_NOW:1 ++
				CALL 결계일그러짐
			ENDIF
		CASE 4
			IF TT_NOW:0 == TT_맵MAX-1 ;세로칸 끝번이면
				;여기에 걸리면 저 밑으로 가게 된다, 아마도
			ELSEIF GETBIT(TT_OBJECT_TYPE:(TT_맵:(TT_NOW:0 + 1):(TT_NOW:1)),0)
			ELSE
				TT_TIMEOUT -= TT_STABLEDOWN()
				TT_NOW:0 ++
				CALL 결계일그러짐
			ENDIF
	ENDSELECT
ELSEIF RESULT == 5
	;상호작용
	CALLFORM TT_MAP_{TT_NUM}("상호작용",TT_맵:(TT_NOW:0):(TT_NOW:1))
	IF RESULT != -1
		TT_TIMEOUT -= RAND:50 + 1
	ENDIF
	CALL 결계일그러짐
ELSE
	CLEARLINE LINECOUNT - TEMP_LINE
	GOTO 결계맵루프
ENDIF
IF TT_GETOUT
	DOWNBASE:MASTER:기력 = MAXBASE:MASTER:기력*((10000 - TT_TIMEOUT))/10000
	TIME += (10000-TT_TIMEOUT)/100
	RETURN
ENDIF
IF TT_TIMEOUT <= 0
	PRINTFORMW 불안정해진 결계에서 튕겨져 나와버렸다!
	DOWNBASE:MASTER:기력 = MAXBASE:MASTER:기력*((10000 - TT_TIMEOUT))/10000
	TIME += (10000-TT_TIMEOUT)/100
	RETURN
ENDIF
CLEARLINE LINECOUNT - TEMP_LINE
GOTO 결계맵루프

@결계일그러짐
#DIM DYNAMIC 왜곡보너스
IF TT_GETOUT
	RETURN
ENDIF
SELECTCASE TT_TIMEOUT/100
	CASE IS < 5
		왜곡보너스 = -13
	CASE IS < 10
		왜곡보너스 = -8
	CASE IS < 20
		왜곡보너스 = -4
	CASE IS < 30
		왜곡보너스 = -2
	CASE IS < 40
		왜곡보너스 = -1
	CASE IS < 50
		왜곡보너스 = 0
	CASE IS < 60
		왜곡보너스 = 1
	CASE IS < 70
		왜곡보너스 = 2
	CASE IS < 80
		왜곡보너스 = 4
	CASE IS < 90
		왜곡보너스 = 6
	CASEELSE
		왜곡보너스 = 8
ENDSELECT
IF TT_TIMEOUT < 8999
	;공간왜곡 시작
	LOCAL:0 = RAND:TT_맵MAX
	LOCAL:1 = RAND:TT_맵MAX
	IF TT_NOW:0 == LOCAL && TT_NOW:1 == LOCAL:1
		;실행없음
	ELSE
		IF TT_맵:(LOCAL:0):(LOCAL:1) == 1
			;역시 실행없음
		ELSE
			IF !명중판정(15+왜곡보너스)
				IF RAND:3 == 0
					TT_맵:(LOCAL:0):(LOCAL:1) = 3
				ELSE
					TT_맵:(LOCAL:0):(LOCAL:1) = 0
				ENDIF
			ENDIF
		ENDIF
	ENDIF
ENDIF
IF TT_TIMEOUT < 9500
	;요괴 등장
	IF !명중판정(85+왜곡보너스)
		CALLFORM TT_MAP_{TT_NUM}("적")
	ENDIF
ENDIF

@결계맵표시
FOR LOCAL,0,TT_맵MAX+2
	PRINTFORM ■
NEXT
PRINTL


FOR LOCAL,0,TT_맵MAX
	PRINTFORM ■
	FOR LOCAL:1,0,TT_맵MAX
		IF LOCAL == TT_NOW:0 && LOCAL:1 == TT_NOW:1
			PRINT ＠
		ELSE
			IF TT_맵_UNSEEN(LOCAL,LOCAL:1)
				PRINTFORM %TT_OBJECT:(TT_맵:(LOCAL):(LOCAL:1))%
			ELSE
				PRINTFORM ·
			ENDIF
		ENDIF
	NEXT
	PRINTFORML ■
NEXT

FOR LOCAL,0,TT_맵MAX+2
	PRINTFORM ■
NEXT
PRINTL


@결계_맵생성(ARG = 0)

LOCAL = RAND:4 + 1
IF ARG
	LOCAL = ARG
ENDIF
TT_NUM = LOCAL
CALLFORM TT_MAP_{TT_NUM}("초기화")


@TT_맵_UNSEEN(ARG,ARG:1)
#FUNCTION
IF ABS(TT_NOW:0-ARG) <= TT_SIGHT && ABS(TT_NOW:1-ARG:1) <= TT_SIGHT
	SIF ABS(TT_NOW:0-ARG) == TT_SIGHT && ABS(TT_NOW:1-ARG:1) == TT_SIGHT
		RETURNF 0
	RETURNF 1
ENDIF
RETURNF 0

@TT_STABLEDOWN()
#FUNCTION
RETURNF MAX(0,MAX(0,RAND:15 + 11) - TT_STABLE)


@TT_적기본세팅()
ADDCHARA RANDOM_CHARANUM
TARGET = CHARANUM -1
CFLAG:TARGET:CSV오버라이드 = 1
EQUIP:TARGET:상반신윗도리2 = 1
EQUIP:TARGET:상반신속옷1 = 1
TEQUIP:TARGET:상반신착의상황 = 1
TEQUIP:TARGET:하반신착의상황 = 1
후처리인터셉트 = 1
경험치인터셉트 = 1


@TT_MAP_1(타입,ARG = 0,ARG:1 = 0)
#DIMS DYNAMIC 타입
;숨겨진 마을
SELECTCASE 타입
	CASE "초기화"
		;값 설정
		TT_SIGHT = 3
		TT_STABLE = 10
		;맵 드로잉
		TT_맵:00:0 = 1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:01:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:02:0 = 0,0,0,2,2,0,2,2,2,0,0,0,2,2,0,2,2,2,0,0,0,2,2,0,2,2,2,0,0,0,0,0,2,2,2
		TT_맵:03:0 = 0,0,0,2,0,0,0,0,2,0,0,0,2,0,0,0,0,2,0,0,0,2,0,0,0,0,2,0,0,0,0,0,2,0,0
		TT_맵:04:0 = 0,0,0,2,0,0,0,0,2,0,0,0,2,0,0,0,0,2,0,0,0,2,0,0,0,0,2,0,0,0,0,0,2,0,5
		TT_맵:05:0 = 0,0,0,2,2,2,2,2,2,3,0,0,2,2,2,2,2,2,0,0,0,2,2,2,2,2,2,0,0,0,0,0,0,0,0
		TT_맵:06:0 = 0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2
		TT_맵:07:0 = 0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:08:0 = 0,0,0,2,2,0,2,2,2,0,0,3,2,2,0,2,2,2,0,0,0,2,2,0,2,2,2,0,0,0,0,0,0,0,0
		TT_맵:09:0 = 0,0,0,2,0,0,0,0,2,0,0,3,3,3,0,0,0,2,0,0,0,2,0,0,0,0,2,0,0,0,0,3,0,0,0
		TT_맵:10:0 = 0,0,0,2,0,0,3,3,2,0,0,0,2,3,3,3,0,2,0,3,0,2,0,0,0,5,2,0,0,0,0,0,0,0,0
		TT_맵:11:0 = 0,0,0,2,2,2,3,3,2,3,3,0,2,2,2,2,2,2,0,0,0,2,2,2,2,2,2,0,0,0,0,3,0,0,0
		TT_맵:12:0 = 0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:13:0 = 0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,0
		TT_맵:14:0 = 3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,3,0,0,0,3,0,2,3,3,3,0,2,0,0,0,0,0,0,0,0
		TT_맵:15:0 = 3,3,3,3,3,3,3,0,0,0,3,3,0,0,0,3,3,3,3,3,3,3,3,0,0,0,2,0,0,0,3,0,0,0,0
		TT_맵:16:0 = 3,3,3,3,0,0,0,0,0,0,3,0,0,0,0,0,0,3,0,0,3,0,0,0,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:17:0 = 0,0,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,2,0,2,2,2,0,2,0,0,0,0,0,3,0,0
		TT_맵:18:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0
		TT_맵:19:0 = 0,0,0,2,2,2,0,2,2,2,0,0,0,0,3,0,3,0,0,3,0,0,0,0,0,3,3,3,0,0,0,3,3,0,0
		TT_맵:20:0 = 0,0,0,2,0,0,0,0,0,2,0,0,0,0,0,0,3,3,0,0,0,0,3,3,3,3,0,3,3,0,3,3,0,0,0
		TT_맵:21:0 = 0,0,0,2,0,5,0,0,0,2,0,0,0,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0
		TT_맵:22:0 = 0,0,0,2,2,2,2,2,2,2,0,0,0,0,0,3,3,3,0,2,2,2,2,2,0,2,2,2,2,2,0,0,0,0,0
		TT_맵:23:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0
		TT_맵:24:0 = 0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,3,2,5,0,0,0,0,0,0,0,0,2,0,0,0,0,0
		TT_맵:25:0 = 0,0,0,0,2,2,2,2,2,2,2,2,2,3,3,0,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0
		TT_맵:26:0 = 0,0,0,0,2,0,0,0,0,3,3,3,3,3,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0
		TT_맵:27:0 = 0,0,0,0,2,0,0,5,3,3,0,0,2,0,0,0,0,0,0,2,0,0,0,5,0,0,0,0,0,2,0,0,0,0,0
		TT_맵:28:0 = 0,0,0,0,2,0,0,3,3,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,3,0,0,2,0,0,0,0,0
		TT_맵:29:0 = 0,0,0,0,2,0,0,3,0,0,0,0,2,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0
		TT_맵:30:0 = 0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0
		TT_맵:31:0 = 0,0,0,0,2,0,5,0,0,0,0,0,2,0,0,0,0,0,0,2,0,0,0,0,4,0,0,0,0,2,0,0,0,0,0
		TT_맵:32:0 = 0,0,0,0,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0
		TT_맵:33:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0
		TT_맵:34:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		;오브젝트 세팅
		TT_OBJECT:0 '= "　"
		TT_OBJECT:1 '= "♨"
		TT_OBJECT:2 '= "□"
		TT_OBJECT:3 '= "＃"
		TT_OBJECT:4 '= "▣"
		TT_OBJECT:5 '= "￦"
		;오브젝트타입
		TT_OBJECT_TYPE:0 = 0
		TT_OBJECT_TYPE:1 = 0
		TT_OBJECT_TYPE:2 = 1
		TT_OBJECT_TYPE:3 = 1
		TT_OBJECT_TYPE:4 = 0
		TT_OBJECT_TYPE:5 = 0
	CASE "플레이버텍스트"
		SELECTCASE ARG
			CASE 0
			CASE 1
				;입구
				PRINTFORM 출구
			CASE 2
			CASE 3
			CASE 4
				PRINTFORM 무언가가 올려져 있는 제단
			CASE 5
				PRINTFORM 반짝이는 무언가
		ENDSELECT
	CASE "상호작용"
		SELECTCASE ARG
			CASE 0
			CASE 1
				;입구
				PRINTFORML 결계의 틈새에서 나갈까?
				CALL ASK_YN
				IF !RESULT
					TT_GETOUT = 1
				ENDIF
			CASE 2
			CASE 3
			CASE 4
				;조교전의 제단
				IF !FLAG:조교전
					PRINTFORML 제단 위의 수상쩍은 책을 발견했다...
					PRINTFORML 주우려고 손을 뻗는 찰나, 정체모를 망령이 솟아나 책을 빼앗았다!
					PRINTFORMW 정체 모를 망령은 공격적인 자세를 취했다...
					CALL 조교사의망령
					SELECTCASE 후처리인터셉트승패여부
						CASE 0
							;타겟 패배
							PRINTFORMW 조교사의 망령이 힘을 잃고 흩어져 사라져 갔다...
							PRINTFORMW %마스터는% 그 밑에 떨어진 검은 책을 주워들었다
							PRINTFORMW 낡은 표지에는 희미하게 원 제목이 적혀 있었다
							PRINTL
							PRINTFORML 「동방 조교전」
							PRINTW
							PRINTFORMW %마스터는% 품 속에 조교전을 챙겼다
							FLAG:조교전 = 1
							TT_맵:(TT_NOW:0):(TT_NOW:1) = 0
						CASEELSE
							PRINTFORMW 조교사의 망령은 %마스터를% 경계하는 듯한 자세를 취하더니, 이내 다시 사라졌다
							PRINTFORMW 조교전은 아직 제단 위에 조용히 놓여 있을 뿐이었다	
							TT_TIMEOUT -= 1000
					ENDSELECT
				ELSE
					PRINTFORML 제단 위에는 누군가의 시체가 소중한듯이 낡은 공책을 쥐고 있었다
					PRINTFORML 다 닳아서 제목조차 읽기 힘든 그 책의 이름은...아마도 조교전인 것 같았다
				ENDIF
			CASE 5
				PRINTFORMW 약간 옛스러운 동전을 주웠다!
				LOCAL = (RAND:10 + 1) * 1000
				PRINTFORMW {LOCAL}원 얻었다
				MONEY += LOCAL
				TT_맵:(TT_NOW:0):(TT_NOW:1) = 0
		ENDSELECT
	CASE "적"
		TT_ENAMY = 0
		PRINTFORMW 어디선가 희미한 망령이 나타나 길을 가로막았다!
		CALLNAME:TARGET = 희미한 망령
		NAME:TARGET = 희미한망령
		BASE:TARGET:체력 = 800
		ABL:TARGET:전투능력 = RAND:4 + 3
		ABL:TARGET:레벨 = (RAND:20 + 25 + (ABL:MASTER:레벨/8))
		CFLAG:TARGET:힘 = RAND:20 + 25 + (CFLAG:MASTER:힘/8)
		CFLAG:TARGET:지성 = RAND:20 + 18 + (CFLAG:MASTER:지성/8)
		CFLAG:TARGET:속도 = RAND:20 + 25 + (CFLAG:MASTER:속도/8)
		CFLAG:TARGET:인내 = RAND:15 + 35 + (CFLAG:MASTER:인내/6)
		CFLAG:TARGET:운 = RAND:20 + 8 + (CFLAG:MASTER:운/7)
		CFLAG:물리내성 = 15 * ABL:TARGET:레벨
		CFLAG:정신내성 = -5 * ABL:TARGET:레벨
		TALENT:TARGET:정화 = 1
		TALENT:TARGET:탄막소사 = 1
		TALENT:TARGET:전투스타일 = 1
	CASE "적애프터"
		SELECTCASE ARG
			CASE 0
				SELECTCASE ARG:1
					CASE 0
						;타겟 패배
						PRINTFORML 흐릿한 영체는 곧 소멸되어 사라졌다
						TT_TIMEOUT -= RAND:10
					CASE 1
						;무승부
						PRINTFORML 흐릿한 영체는 곧 소멸되어 사라졌다...
						TT_TIMEOUT -= RAND:25
					CASE 2
						PRINTFORML 영체는 돌연히 사라졌다
						PRINTFORML 그러나 결계의 불안정화가 한층 더 가속된 것 같다
						TT_TIMEOUT -= RAND:100 + 1
				ENDSELECT
				PRINTW

			CASE 1

		ENDSELECT
ENDSELECT

@TT_MAP_2(타입,ARG = 0,ARG:1 = 0)
#DIMS DYNAMIC 타입
;돈 창고
SELECTCASE 타입
	CASE "초기화"
		;값 설정
		TT_SIGHT = 3
		TT_STABLE = 10
		;맵 드로잉
		TT_맵:00:0 = 1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:01:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:02:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:03:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:04:0 = 0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0
		TT_맵:05:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:06:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:07:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:08:0 = 0,0,0,0,2,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,2,0,0,0,0
		TT_맵:09:0 = 0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:10:0 = 0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:11:0 = 0,0,0,0,2,0,0,0,2,0,0,5,0,0,0,0,0,0,0,0,5,0,0,5,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:12:0 = 0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:13:0 = 0,0,0,0,2,0,0,0,2,0,0,0,0,5,0,0,0,0,0,5,0,0,0,0,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:14:0 = 0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:15:0 = 0,0,0,0,2,0,0,0,2,0,0,0,0,0,5,0,0,0,5,0,0,0,0,0,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:16:0 = 0,0,0,0,2,0,3,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:17:0 = 0,0,0,0,2,0,0,0,2,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:18:0 = 0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:19:0 = 0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:20:0 = 0,0,0,0,2,0,0,0,2,0,0,0,0,0,5,0,0,0,5,0,0,0,0,0,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:21:0 = 0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:22:0 = 0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:23:0 = 0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:24:0 = 0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:25:0 = 0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,2,0,0,0,0
		TT_맵:26:0 = 0,0,0,0,2,0,0,0,2,2,2,2,2,2,2,2,0,0,0,2,2,2,2,2,2,2,2,0,0,0,2,0,0,0,0
		TT_맵:27:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:28:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:29:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:30:0 = 0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0
		TT_맵:31:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:32:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:33:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:34:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		;오브젝트 세팅
		TT_OBJECT:0 '= "　"
		TT_OBJECT:1 '= "♨"
		TT_OBJECT:2 '= "□"
		TT_OBJECT:3 '= "＃"
		TT_OBJECT:4 '= "▣"
		TT_OBJECT:5 '= "￦"
		;오브젝트타입
		TT_OBJECT_TYPE:0 = 0
		TT_OBJECT_TYPE:1 = 0
		TT_OBJECT_TYPE:2 = 1
		TT_OBJECT_TYPE:3 = 1
		TT_OBJECT_TYPE:4 = 0
		TT_OBJECT_TYPE:5 = 0
	CASE "플레이버텍스트"
		SELECTCASE ARG
			CASE 0
			CASE 1
				;입구
				PRINTFORM 출구
			CASE 2
			CASE 3
			CASE 4
			CASE 5
				PRINTFORM 반짝이는 무언가
		ENDSELECT
	CASE "상호작용"
		SELECTCASE ARG
			CASE 0
			CASE 1
				;입구
				PRINTFORML 결계의 틈새에서 나갈까?
				CALL ASK_YN
				IF !RESULT
					TT_GETOUT = 1
				ENDIF
			CASE 2
			CASE 3
			CASE 4
			CASE 5
				PRINTFORMW 약간 옛스러운 동전을 주웠다!
				LOCAL = (RAND:10 + 1) * 1000
				PRINTFORMW {LOCAL}원 얻었다
				MONEY += LOCAL
				TT_맵:(TT_NOW:0):(TT_NOW:1) = 0
		ENDSELECT
	CASE "적"
		TT_ENAMY = 0
		PRINTFORMW 어디선가 희미한 망령이 나타나 길을 가로막았다!
		CALLNAME:TARGET = 희미한 망령
		NAME:TARGET = 희미한망령
		BASE:TARGET:체력 = 800
		ABL:TARGET:전투능력 = RAND:4 + 3
		ABL:TARGET:레벨 = (RAND:20 + 25 + (ABL:MASTER:레벨/8))
		CFLAG:TARGET:힘 = RAND:20 + 25 + (CFLAG:MASTER:힘/8)
		CFLAG:TARGET:지성 = RAND:20 + 18 + (CFLAG:MASTER:지성/8)
		CFLAG:TARGET:속도 = RAND:20 + 25 + (CFLAG:MASTER:속도/8)
		CFLAG:TARGET:인내 = RAND:15 + 35 + (CFLAG:MASTER:인내/6)
		CFLAG:TARGET:운 = RAND:20 + 8 + (CFLAG:MASTER:운/7)
		CFLAG:물리내성 = 15 * ABL:TARGET:레벨
		CFLAG:정신내성 = -5 * ABL:TARGET:레벨
		TALENT:TARGET:정화 = 1
		TALENT:TARGET:탄막소사 = 1
		TALENT:TARGET:전투스타일 = 1
	CASE "적애프터"
		SELECTCASE ARG
			CASE 0
				SELECTCASE ARG:1
					CASE 0
						;타겟 패배
						PRINTFORML 흐릿한 영체는 곧 소멸되어 사라졌다
						TT_TIMEOUT -= RAND:10
					CASE 1
						;무승부
						PRINTFORML 흐릿한 영체는 곧 소멸되어 사라졌다...
						TT_TIMEOUT -= RAND:25
					CASE 2
						PRINTFORML 영체는 돌연히 사라졌다
						PRINTFORML 그러나 결계의 불안정화가 한층 더 가속된 것 같다
						TT_TIMEOUT -= RAND:100 + 1
				ENDSELECT
				PRINTW

			CASE 1

		ENDSELECT
ENDSELECT

@TT_MAP_3(타입,ARG = 0,ARG:1 = 0)
#DIMS DYNAMIC 타입
;바깥세계로의 길
SELECTCASE 타입
	CASE "초기화"
		;값 설정
		TT_SIGHT = 3
		TT_STABLE = 10
		;맵 드로잉
		TT_맵:00:0 = 1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:01:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:02:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0
		TT_맵:03:0 = 0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:04:0 = 0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:05:0 = 0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:06:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:07:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:08:0 = 0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:09:0 = 3,3,0,3,3,3,3,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:10:0 = 3,3,3,3,0,0,3,3,3,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:11:0 = 0,0,0,0,0,0,3,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:12:0 = 0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:13:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0
		TT_맵:14:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:15:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0
		TT_맵:16:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:17:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:18:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:19:0 = 0,0,0,0,0,0,0,0,0,0,3,3,3,0,0,0,3,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0
		TT_맵:20:0 = 0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:21:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:22:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:23:0 = 0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:24:0 = 0,0,0,0,0,0,0,0,0,0,0,3,3,0,3,3,3,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2
		TT_맵:25:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0
		TT_맵:26:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0
		TT_맵:27:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,2,0,0,0,0,0,0,0
		TT_맵:28:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:29:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6
		TT_맵:30:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:31:0 = 0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,5,0,0,0,0,0,2,0,0,0,0,2,0,0,0,0,0,0,6
		TT_맵:32:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,6,6,6
		TT_맵:33:0 = 0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,6,6,6
		TT_맵:34:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,6,0,6,6,6
		;오브젝트 세팅
		TT_OBJECT:0 '= "　"
		TT_OBJECT:1 '= "♨"
		TT_OBJECT:2 '= "□"
		TT_OBJECT:3 '= "＃"
		TT_OBJECT:4 '= "▣"
		TT_OBJECT:5 '= "￦"
		TT_OBJECT:6 '= "◎"
		;오브젝트타입
		TT_OBJECT_TYPE:0 = 0
		TT_OBJECT_TYPE:1 = 0
		TT_OBJECT_TYPE:2 = 1
		TT_OBJECT_TYPE:3 = 1
		TT_OBJECT_TYPE:4 = 0
		TT_OBJECT_TYPE:5 = 0
		TT_OBJECT_TYPE:6 = 0
	CASE "플레이버텍스트"
		SELECTCASE ARG
			CASE 0
			CASE 1
				;입구
				PRINTFORM 출구
			CASE 2
			CASE 3
			CASE 4
			CASE 5
				PRINTFORM 반짝이는 무언가
			CASE 6
				PRINTFORM 높디 높은 빌딩과 사람들의 인파가 옅보인다
		ENDSELECT
	CASE "상호작용"
		SELECTCASE ARG
			CASE 0
			CASE 1
				;입구
				PRINTFORML 결계의 틈새에서 나갈까?
				CALL ASK_YN
				IF !RESULT
					TT_GETOUT = 1
				ENDIF
			CASE 2
			CASE 3
			CASE 4
			CASE 5
				PRINTFORMW 약간 옛스러운 동전을 주웠다!
				LOCAL = (RAND:10 + 1) * 1000
				PRINTFORMW {LOCAL}원 얻었다
				MONEY += LOCAL
				TT_맵:(TT_NOW:0):(TT_NOW:1) = 0
			CASE 6
				PRINTFORMW 바깥세계의 모습이 보인다...
				PRINTFORMW 손을 뻗으니 무언가에 빨려 들어가버렸다!
				CALL TT_MAP_10001("초기화")
				TT_NUM = 10001
				TT_TIMEOUT = 10000
				TT_NOW:0 = TT_SPAWN:0
				TT_NOW:1 = TT_SPAWN:1
		ENDSELECT
	CASE "적"
		IF 명중판정(70)
			TT_ENAMY = 0
			PRINTFORMW 어디선가 희미한 망령이 나타나 길을 가로막았다!
			CALLNAME:TARGET = 희미한 망령
			NAME:TARGET = 희미한망령
			BASE:TARGET:체력 = 800
			ABL:TARGET:전투능력 = RAND:4 + 3
			ABL:TARGET:레벨 = (RAND:20 + 25 + (ABL:MASTER:레벨/8))
			CFLAG:TARGET:힘 = RAND:20 + 25 + (CFLAG:MASTER:힘/8)
			CFLAG:TARGET:지성 = RAND:20 + 18 + (CFLAG:MASTER:지성/8)
			CFLAG:TARGET:속도 = RAND:20 + 25 + (CFLAG:MASTER:속도/8)
			CFLAG:TARGET:인내 = RAND:15 + 35 + (CFLAG:MASTER:인내/6)
			CFLAG:TARGET:운 = RAND:20 + 8 + (CFLAG:MASTER:운/7)
			CFLAG:물리내성 = 15 * ABL:TARGET:레벨
			CFLAG:정신내성 = -5 * ABL:TARGET:레벨
			TALENT:TARGET:정화 = 1
			TALENT:TARGET:탄막소사 = 1
			TALENT:TARGET:전투스타일 = 1
		ELSE
			TT_ENAMY = 1
			PRINTFORMW 흐릿한 안개속에서 늙은 검객이 나타나 길을 가로막았다!
			CALLNAME:TARGET = 늙은 검객
			NAME:TARGET = 늙은 검객
			BASE:TARGET:체력 = 2000
			ABL:TARGET:전투능력 = 12
			ABL:TARGET:레벨 = 120
			CFLAG:TARGET:힘 = 155
			CFLAG:TARGET:지성 = 70
			CFLAG:TARGET:속도 = 185
			CFLAG:TARGET:인내 = 100
			CFLAG:TARGET:운 = 90
			CFLAG:물리내성 = 10 * ABL:TARGET:레벨
			CFLAG:화염내성 = 5 * ABL:TARGET:레벨
			CFLAG:빙결내성 = 5 * ABL:TARGET:레벨
			CFLAG:전격내성 = 5 * ABL:TARGET:레벨
			CFLAG:질풍내성 = 5 * ABL:TARGET:레벨
			CFLAG:마력내성 = 5 * ABL:TARGET:레벨
			CFLAG:수격내성 = 5 * ABL:TARGET:레벨
			CFLAG:정신내성 = -5 * ABL:TARGET:레벨
			TALENT:TARGET:정화 = 1
			TALENT:TARGET:전투스타일 = 1
			TALENT:TARGET:검을다루는정도의능력 = 1
			TALENT:TARGET:인부현세참 = 1
			TALENT:TARGET:절복무간 = 1
			TALENT:TARGET:혼백유명구문지총명의법 = 1
			TALENT:TARGET:전생검원심유전참 = 1
			TALENT:TARGET:천신검삼혼칠백 = 1
		ENDIF
	CASE "적애프터"
		SELECTCASE ARG
			CASE 0
				SELECTCASE ARG:1
					CASE 0
						;타겟 패배
						PRINTFORML 흐릿한 영체는 곧 소멸되어 사라졌다
						TT_TIMEOUT -= RAND:10
					CASE 1
						;무승부
						PRINTFORML 흐릿한 영체는 곧 소멸되어 사라졌다...
						TT_TIMEOUT -= RAND:25
					CASE 2
						PRINTFORML 영체는 돌연히 사라졌다
						PRINTFORML 그러나 결계의 불안정화가 한층 더 가속된 것 같다
						TT_TIMEOUT -= RAND:100 + 1
				ENDSELECT
				PRINTW

			CASE 1
				SELECTCASE ARG:1
					CASE 0
						;타겟 패배
						PRINTFORML 늙은 검객은 이내 안개속으로 사라졌다...
						TT_TIMEOUT -= RAND:10
					CASE 1
						;무승부
						PRINTFORML 늙은 검객은 이내 안개속으로 사라져 갔다...
						TT_TIMEOUT -= RAND:25
					CASE 2
						PRINTFORML 늙은 검객의 형채는 돌연히 사라져갔다
						PRINTFORML 그러나 결계의 불안정화가 한층 더 가속된 것 같다
						TT_TIMEOUT -= RAND:100 + 1
				ENDSELECT
				PRINTW
		ENDSELECT
ENDSELECT



@TT_MAP_4(타입,ARG = 0,ARG:1 = 0)
#DIMS DYNAMIC 타입
;떨어진 태양의 제단
SELECTCASE 타입
	CASE "초기화"
		;값 설정
		TT_SIGHT = 3
		TT_STABLE = 10
		;맵 드로잉
		TT_맵:00:0 = 1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:01:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:02:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:03:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:04:0 = 0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0
		TT_맵:05:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,5,0,0,0,0,0,0,5,0,2,0,0,0,0
		TT_맵:06:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:07:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,5,0,0,0,0,0,5,2,0,0,0,0
		TT_맵:08:0 = 0,0,0,0,2,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0
		TT_맵:09:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:10:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:11:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:12:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:13:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,2,2,0,0,0,0
		TT_맵:14:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,2,0,0,0,0,0,2,0,0,0,0
		TT_맵:15:0 = 0,0,0,0,2,0,0,0,0,2,0,0,0,0,2,0,0,0,0,2,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0
		TT_맵:16:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0
		TT_맵:17:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,2,0,0,7,0,0,2,0,0,0,0
		TT_맵:18:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0
		TT_맵:19:0 = 0,0,0,0,2,0,0,0,0,2,0,0,0,0,2,0,0,0,0,2,0,0,0,0,2,0,0,0,0,0,2,0,0,0,0
		TT_맵:20:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,2,0,0,0,0,0,2,0,0,0,0
		TT_맵:21:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,2,2,0,0,0,0
		TT_맵:22:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:23:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:24:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:25:0 = 0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:26:0 = 0,0,0,0,2,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,2,0,0,0,0
		TT_맵:27:0 = 0,0,0,0,2,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:28:0 = 0,0,0,0,2,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:29:0 = 0,0,0,0,2,0,0,0,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0
		TT_맵:30:0 = 0,0,0,0,2,2,2,2,2,2,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0
		TT_맵:31:0 = 0,0,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:32:0 = 0,0,0,0,0,0,0,0,0,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:33:0 = 0,0,0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:34:0 = 0,0,0,0,0,0,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		;오브젝트 세팅
		TT_OBJECT:0 '= "　"
		TT_OBJECT:1 '= "♨"
		TT_OBJECT:2 '= "□"
		TT_OBJECT:3 '= "＃"
		TT_OBJECT:4 '= "▣"
		TT_OBJECT:5 '= "￦"
		TT_OBJECT:6 '= "◎"
		;오브젝트타입
		TT_OBJECT_TYPE:0 = 0
		TT_OBJECT_TYPE:1 = 0
		TT_OBJECT_TYPE:2 = 1
		TT_OBJECT_TYPE:3 = 1
		TT_OBJECT_TYPE:4 = 0
		TT_OBJECT_TYPE:5 = 0
		TT_OBJECT_TYPE:6 = 0
	CASE "플레이버텍스트"
		SELECTCASE ARG
			CASE 0
			CASE 1
				;입구
				PRINTFORM 출구
			CASE 2
			CASE 3
			CASE 4
			CASE 5
				PRINTFORM 반짝이는 무언가
			CASE 6
				PRINTFORM 화살에 꿰뚫린 까마귀가 올려져 있는 제단
		ENDSELECT
	CASE "상호작용"
		SELECTCASE ARG
			CASE 0
			CASE 1
				;입구
				PRINTFORML 결계의 틈새에서 나갈까?
				CALL ASK_YN
				IF !RESULT
					TT_GETOUT = 1
				ENDIF
			CASE 2
			CASE 3
			CASE 4
			CASE 5
				PRINTFORMW 약간 옛스러운 동전을 주웠다!
				LOCAL = (RAND:10 + 1) * 1000
				PRINTFORMW {LOCAL}원 얻었다
				MONEY += LOCAL
				TT_맵:(TT_NOW:0):(TT_NOW:1) = 0
			CASE 6
				PRINTFORMW 까마귀 시체를 건드려 보았으나 아무런 일도 일어나지 않는다
				PRINTFORMW 그 옆에는 '작업중' 이라는 표지가 멋드러지게 써져 있었다
		ENDSELECT
	CASE "적"
		;LOCAL = RAND:100
		;SELECTCASE LOCAL
		;	CASE 0 TO 70
				TT_ENAMY = 0
				PRINTFORMW 어디선가 희미한 망령이 나타나 길을 가로막았다!
				CALLNAME:TARGET = 희미한 망령
				NAME:TARGET = 희미한망령
				BASE:TARGET:체력 = 800
				ABL:TARGET:전투능력 = RAND:4 + 3
				ABL:TARGET:레벨 = (RAND:20 + 25 + (ABL:MASTER:레벨/8))
				CFLAG:TARGET:힘 = RAND:20 + 25 + (CFLAG:MASTER:힘/8)
				CFLAG:TARGET:지성 = RAND:20 + 18 + (CFLAG:MASTER:지성/8)
				CFLAG:TARGET:속도 = RAND:20 + 25 + (CFLAG:MASTER:속도/8)
				CFLAG:TARGET:인내 = RAND:15 + 35 + (CFLAG:MASTER:인내/6)
				CFLAG:TARGET:운 = RAND:20 + 8 + (CFLAG:MASTER:운/7)
				CFLAG:물리내성 = 15 * ABL:TARGET:레벨
				CFLAG:정신내성 = -5 * ABL:TARGET:레벨
				TALENT:TARGET:정화 = 1
				TALENT:TARGET:탄막소사 = 1
				TALENT:TARGET:전투스타일 = 1
		;	CASE 1
				
		;ENDSELECT
	CASE "적애프터"
		SELECTCASE ARG
			CASE 0
				SELECTCASE ARG:1
					CASE 0
						;타겟 패배
						PRINTFORML 흐릿한 영체는 곧 소멸되어 사라졌다
						TT_TIMEOUT -= RAND:10
					CASE 1
						;무승부
						PRINTFORML 흐릿한 영체는 곧 소멸되어 사라졌다...
						TT_TIMEOUT -= RAND:25
					CASE 2
						PRINTFORML 영체는 돌연히 사라졌다
						PRINTFORML 그러나 결계의 불안정화가 한층 더 가속된 것 같다
						TT_TIMEOUT -= RAND:100 + 1
				ENDSELECT
				PRINTW

			CASE 1

		ENDSELECT
ENDSELECT


@TT_MAP_10001(타입,ARG = 0,ARG:1 = 0)
#DIMS DYNAMIC 타입
#DIM 스톡,30
;바깥세계-도시
SELECTCASE 타입
	CASE "초기화"
		;값 설정
		TT_SIGHT = 10
		TT_STABLE = 100
		;Y
		TT_SPAWN:0 = 7
		;X
		TT_SPAWN:1 = 34
		;맵 드로잉
		
		TT_맵:00:0 = 03,03,03,03,03,03,03,03,03,03,03,03,03,03,03,03,03,03,03,03,03,03,06,09,09,09,09,09,09,09,09,09,06,03,03
		TT_맵:01:0 = 04,04,04,04,04,04,04,04,04,04,04,04,04,04,04,04,04,04,04,04,04,04,02,00,00,00,00,00,00,00,00,00,02,04,04
		TT_맵:02:0 = 03,03,03,03,03,03,03,03,03,03,03,03,03,03,03,03,03,03,03,03,03,03,02,00,00,00,00,00,00,00,00,00,02,03,03
		TT_맵:03:0 = 04,04,04,04,04,04,04,04,04,04,04,04,04,04,04,04,04,04,04,04,04,04,06,00,00,00,00,00,00,00,00,00,06,04,04
		TT_맵:04:0 = 07,08,08,08,08,08,07,08,08,08,08,08,07,08,08,08,08,08,07,08,08,08,02,10,09,11,10,08,11,10,09,11,02,08,08
		TT_맵:05:0 = 00,07,09,09,09,07,00,07,09,09,09,07,00,07,09,09,09,07,00,00,00,00,02,02,00,13,12,15,13,12,00,02,02,00,00
		TT_맵:06:0 = 00,02,00,00,00,02,00,02,00,00,00,02,00,02,00,00,00,02,00,00,00,00,00,00,00,00,00,15,00,00,13,12,00,00,00
		TT_맵:07:0 = 00,02,00,00,00,02,00,02,00,00,00,02,00,02,00,00,00,02,00,00,00,00,00,00,00,00,00,15,00,00,00,00,00,00,01
		TT_맵:08:0 = 00,02,00,00,00,02,00,02,00,00,00,02,00,02,00,00,00,02,00,00,00,00,00,00,00,00,00,15,00,00,00,00,00,00,00
		TT_맵:09:0 = 00,07,09,09,09,07,00,07,09,09,09,07,00,07,09,09,09,07,00,08,08,08,08,08,08,08,08,15,08,08,08,08,08,08,08
		TT_맵:10:0 = 00,00,00,14,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
		TT_맵:11:0 = 09,09,09,15,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,08,09,09,09,09
		TT_맵:12:0 = 09,09,02,15,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,02,00,00,00,00,00,00,00,15,09,09,09,09
		TT_맵:13:0 = 09,09,09,15,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,00,00,00,00,00,00,00,15,09,09,09,09
		TT_맵:14:0 = 09,09,09,15,02,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,09,00,00,00,00,00,00,00,15,02,09,09,09
		TT_맵:15:0 = 09,09,09,15,09,09,09,11,00,10,09,09,09,09,09,09,09,09,09,09,09,09,09,18,00,00,00,00,00,17,08,09,09,09,09
		TT_맵:16:0 = 00,00,00,00,00,00,00,16,16,16,00,00,00,00,00,00,00,00,00,00,00,00,00,00,18,00,00,00,17,00,00,00,00,00,00
		TT_맵:17:0 = 00,07,09,09,09,07,00,02,02,02,00,07,09,09,09,09,07,00,07,09,09,09,07,00,16,16,16,16,16,00,07,09,09,09,07
		TT_맵:18:0 = 00,02,00,00,00,02,00,02,02,02,00,02,00,00,00,00,02,00,02,00,00,00,02,00,02,09,02,02,02,00,02,00,00,00,02
		TT_맵:19:0 = 00,02,00,00,00,02,00,02,02,02,00,02,00,00,00,00,02,00,02,00,00,00,02,00,02,02,02,02,02,00,02,00,00,00,02
		TT_맵:20:0 = 00,02,00,00,00,02,14,02,02,02,00,02,00,00,00,00,02,00,02,00,00,00,02,00,02,02,02,02,02,00,02,00,00,00,02
		TT_맵:21:0 = 00,02,00,00,00,02,00,02,02,02,00,02,00,00,00,00,02,00,07,09,09,09,07,00,02,02,02,02,02,00,07,09,09,08,07
		TT_맵:22:0 = 00,02,00,00,00,02,00,02,02,02,00,02,00,00,00,00,02,00,00,00,00,00,00,00,02,02,02,02,02,00,00,00,00,00,00
		TT_맵:23:0 = 00,07,09,09,09,07,00,02,02,02,00,02,00,00,00,00,02,00,07,09,09,09,07,00,02,02,02,02,02,00,07,09,09,09,07
		TT_맵:24:0 = 00,00,00,00,00,00,00,02,02,02,00,07,09,09,09,09,07,00,02,00,00,00,02,00,02,02,02,02,02,00,02,00,00,00,02
		TT_맵:25:0 = 09,09,09,09,09,08,09,12,02,02,00,00,00,00,00,00,00,00,02,00,00,00,02,00,02,02,02,02,02,00,02,00,00,00,02
		TT_맵:26:0 = 09,09,09,09,09,15,09,09,12,02,00,07,09,09,09,09,07,00,02,00,00,00,02,00,02,02,02,02,02,00,02,00,00,00,02
		TT_맵:27:0 = 09,09,09,09,09,08,09,09,09,12,00,02,00,00,00,00,02,00,07,09,09,09,07,00,02,02,02,02,02,00,07,09,09,09,07
		TT_맵:28:0 = 00,00,00,00,00,00,00,00,00,00,00,02,00,00,00,00,02,00,00,00,00,00,00,00,02,02,02,02,02,00,00,00,00,00,00
		TT_맵:29:0 = 00,07,09,09,09,07,09,09,09,07,00,02,00,00,00,00,02,00,07,09,09,09,07,00,02,02,02,02,02,00,07,09,09,09,07
		TT_맵:30:0 = 00,02,00,00,00,02,00,00,00,02,00,02,00,00,00,00,02,14,02,00,00,00,02,00,02,02,02,09,02,00,02,00,00,00,02
		TT_맵:31:0 = 00,02,00,00,00,02,00,00,00,02,00,02,00,00,00,00,02,00,02,00,00,00,02,00,16,16,16,16,16,00,02,00,00,00,02
		TT_맵:32:0 = 00,02,00,00,00,02,00,00,00,02,00,02,00,00,00,00,02,00,02,00,00,00,02,00,02,09,02,02,02,00,02,00,00,00,02
		TT_맵:33:0 = 00,07,09,09,09,07,09,09,09,07,00,07,09,09,09,09,07,00,07,09,09,09,07,00,02,02,02,02,02,00,07,09,09,09,07
		TT_맵:34:0 = 00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,02,02,02,02,02,00,00,00,14,00,00
		;오브젝트 세팅
		TT_OBJECT:0 '= "　"
		TT_OBJECT:1 '= "♨"
		TT_OBJECT:2 '= "│"
		TT_OBJECT:3 '= "┬"
		TT_OBJECT:4 '= "┴"
		TT_OBJECT:5 '= "|"
		TT_OBJECT:6 '= "●"
		TT_OBJECT:7 '= "■"
		TT_OBJECT:8 '= "〓"
		TT_OBJECT:9 '= "─"
		TT_OBJECT:10 '= "┌"
		TT_OBJECT:11 '= "┐"
		TT_OBJECT:12 '= "┘"
		TT_OBJECT:13 '= "└"
		TT_OBJECT:14 '= "▣"
		TT_OBJECT:15 '= "三"
		TT_OBJECT:16 '= "||"
		TT_OBJECT:17 '= "／"
		TT_OBJECT:18 '= "＼"
		;오브젝트타입
		TT_OBJECT_TYPE:0 = 0
		TT_OBJECT_TYPE:1 = 0
		TT_OBJECT_TYPE:2 = 1
		TT_OBJECT_TYPE:3 = 1
		TT_OBJECT_TYPE:4 = 1
		TT_OBJECT_TYPE:5 = 1
		TT_OBJECT_TYPE:6 = 1
		TT_OBJECT_TYPE:7 = 1
		TT_OBJECT_TYPE:8 = 0
		TT_OBJECT_TYPE:9 = 1
		TT_OBJECT_TYPE:10 = 1
		TT_OBJECT_TYPE:11 = 1
		TT_OBJECT_TYPE:12 = 1
		TT_OBJECT_TYPE:13 = 1
		TT_OBJECT_TYPE:14 = 0
		TT_OBJECT_TYPE:15 = 0
		TT_OBJECT_TYPE:16 = 0
		TT_OBJECT_TYPE:17 = 1
		TT_OBJECT_TYPE:18 = 1



		VARSET 스톡
		스톡:1 = 10
		스톡:2 = 50
		스톡:3 = 25
		스톡:4 = 20
		스톡:11 = 5
		스톡:12 = 50
	CASE "플레이버텍스트"
		SELECTCASE ARG
			CASE 0
			CASE 1
				PRINTFORM 출구
			CASE 2
			CASE 3
			CASE 4
			CASE 5
			CASE 6
			CASE 7
			CASE 8
			CASE 9
			CASE 10
			CASE 11
			CASE 12
			CASE 13
			CASE 14
				PRINTFORM 가게에 들릴 수 있다
			CASE 15
			CASE 16
			CASE 17
			CASE 18
		ENDSELECT
	CASE "상호작용"
		SELECTCASE ARG
			CASE 0
			CASE 1
				;입구
				PRINTFORML 결계의 틈새에서 나갈까?
				CALL ASK_YN
				IF !RESULT
					TT_GETOUT = 1
				ENDIF
			CASE 2
			CASE 3
			CASE 4
			CASE 5
			CASE 6
			CASE 7
			CASE 8
			CASE 9
			CASE 10
			CASE 11
			CASE 12
			CASE 13
			CASE 14
				IF TT_NOW:0 == 10 && TT_NOW:1 == 3
					;북서쪽, 술집
					$LOOP_술집
					PRINTFORML 술집에 들렸다...
					PRINTFORML 소지금 : {MONEY}
					DRAWLINE
					PRINTFORML [001] - 브랜디XO(245000￦)(재고:{스톡:1})
					PRINTFORML [002] - 맥주(3000￦)(재고:{스톡:2})
					PRINTFORML [003] - 위스키(6500￦)(재고:{스톡:3})
					PRINTFORML [004] - 빈티지 와인(30000￦)(재고:{스톡:4})
					DRAWLINE
					PRINTFORML [999] 돌아간다
					INPUT
					IF RESULT == 999
						RETURN
					ELSEIF RESULT == 1
						IF !스톡:RESULT
							PRINTFORMW 재고가 없다
							GOTO LOOP_술집
						ENDIF
						IF MONEY >= 250000
							스톡:RESULT = MAX(0,스톡:RESULT - 1)
							ITEM:브랜디XO++
							MONEY -= 250000
							PRINTFORML 브랜디XO를 1개 구매했다
						ELSE
							PRINTW 돈이 없다
						ENDIF
					ELSEIF RESULT == 2
						IF !스톡:RESULT
							PRINTFORMW 재고가 없다
							GOTO LOOP_술집
						ENDIF
						IF MONEY >= 3500
							스톡:RESULT = MAX(0,스톡:RESULT - 1)
							ITEM:맥주++
							MONEY -= 3500
							PRINTFORML 맥주를 1개 구매했다
						ELSE
							PRINTW 돈이 없다
						ENDIF
					ELSEIF RESULT == 3
						IF !스톡:RESULT
							PRINTFORMW 재고가 없다
							GOTO LOOP_술집
						ENDIF
						IF MONEY >= 7000
							스톡:RESULT = MAX(0,스톡:RESULT - 1)
							ITEM:위스키++
							MONEY -= 7000
							PRINTFORML 위스키를 1개 구매했다
						ELSE
							PRINTW 돈이 없다
						ENDIF
					ELSEIF RESULT == 4
						IF !스톡:RESULT
							PRINTFORMW 재고가 없다
							GOTO LOOP_술집
						ENDIF
						IF MONEY >= 35000
							스톡:RESULT = MAX(0,스톡:RESULT - 1)
							ITEM:빈티지와인++
							MONEY -= 35000
							PRINTFORML 빈티지와인을 1개 구매했다
						ELSE
							PRINTW 돈이 없다
						ENDIF
					ENDIF
					GOTO LOOP_술집
				ELSEIF TT_NOW:0 == 20 && TT_NOW:1 == 7
					;마트
					$LOOP_마트
					PRINTFORML 마트에 들렸다...
					PRINTFORML 소지금 : {MONEY}
					DRAWLINE
					PRINTFORML [011] - 쌀 1포대(50000￦)(재고:{스톡:11})
					PRINTFORML [012] - 초콜릿(1000￦)(재고:{스톡:12})
					DRAWLINE
					PRINTFORML [999] 돌아간다
					INPUT
					IF RESULT == 999
						RETURN
					ELSEIF RESULT == 11
						IF !스톡:RESULT
							PRINTFORMW 재고가 없다
							GOTO LOOP_마트
						ENDIF
						IF MONEY >= 50000
							스톡:RESULT = MAX(0,스톡:RESULT - 1)
							ITEM:쌀 += 200
							MONEY -= 50000
							PRINTFORML 쌀을 200개 구매했다
						ELSE
							PRINTW 돈이 없다
						ENDIF
					ELSEIF RESULT == 12
						IF !스톡:RESULT
							PRINTFORMW 재고가 없다
							GOTO LOOP_마트
						ENDIF
						IF MONEY >= 1000
							스톡:RESULT = MAX(0,스톡:RESULT - 1)
							ITEM:초콜릿 += 1
							MONEY -= 1000
							PRINTFORML 초콜릿을 1개 구매했다
						ELSE
							PRINTW 돈이 없다
						ENDIF
					ENDIF
					GOTO LOOP_마트
				ELSEIF TT_NOW:0 == 30 && TT_NOW:1 == 17

				ELSEIF TT_NOW:0 == 34 && TT_NOW:1 == 32

				ENDIF
			CASE 15
			CASE 16
			CASE 17
			CASE 18
		ENDSELECT
	CASE "적"
		TT_ENAMY = 0
		PRINTFORMW 적이 나타났다!
		CALLNAME:TARGET = 1
		NAME:TARGET = 1
		BASE:TARGET:체력 = 1
		ABL:TARGET:전투능력 = 1
		ABL:TARGET:레벨 = 1
		CFLAG:TARGET:힘 = 1
		CFLAG:TARGET:지성 = 1
		CFLAG:TARGET:속도 = 1
		CFLAG:TARGET:인내 = 1
		CFLAG:TARGET:운 = 1
		CFLAG:물리내성 = 1
		CFLAG:정신내성 = 1
		TALENT:TARGET:정화 = 1
		TALENT:TARGET:탄막소사 = 1
		TALENT:TARGET:전투스타일 = 1
	CASE "적애프터"
		SELECTCASE ARG
			CASE 0
				SELECTCASE ARG:1
					CASE 0
						;타겟 패배
						PRINTFORML 
						TT_TIMEOUT -= RAND:10
					CASE 1
						;무승부
						PRINTFORML 
						TT_TIMEOUT -= RAND:25
					CASE 2
						PRINTFORML 
						TT_TIMEOUT -= RAND:100 + 1
				ENDSELECT
				PRINTW

			CASE 1

		ENDSELECT
ENDSELECT

[SKIPSTART]
@TT_MAP_{번호}(타입,ARG = 0,ARG:1 = 0)
#DIMS DYNAMIC 타입
;
SELECTCASE 타입
	CASE "초기화"
		;값 설정
		TT_SIGHT = 3
		TT_STABLE = 10
		;맵 드로잉
		TT_맵:00:0 = 1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:01:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:02:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:03:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:04:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:05:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:06:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:07:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:08:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:09:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:10:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:11:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:12:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:13:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:14:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:15:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:16:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:17:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:18:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:19:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:20:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:21:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:22:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:23:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:24:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:25:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:26:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:27:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:28:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:29:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:30:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:31:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:32:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:33:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		TT_맵:34:0 = 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
		;오브젝트 세팅
		TT_OBJECT:0 = "　"
		TT_OBJECT:1 = "♨"
		TT_OBJECT:2 = "□"
		TT_OBJECT:3 = "＃"
		TT_OBJECT:4 = "▣"
		TT_OBJECT:5 = "￦"
		;오브젝트타입
		TT_OBJECT_TYPE:0 = 0
		TT_OBJECT_TYPE:1 = 0
		TT_OBJECT_TYPE:2 = 1
		TT_OBJECT_TYPE:3 = 1
		TT_OBJECT_TYPE:4 = 0
		TT_OBJECT_TYPE:5 = 0
	CASE "플레이버텍스트"
		SELECTCASE ARG
			CASE 0
			CASE 1
				;입구
				PRINTFORM 출구
			CASE 2
			CASE 3
			CASE 4
			CASE 5
				PRINTFORM 반짝이는 무언가
		ENDSELECT
	CASE "상호작용"
		SELECTCASE ARG
			CASE 0
			CASE 1
				;입구
				PRINTFORML 결계의 틈새에서 나갈까?
				CALL ASK_YN
				IF !RESULT
					TT_GETOUT = 1
				ENDIF
			CASE 2
			CASE 3
			CASE 4
			CASE 5
				PRINTFORMW 약간 옛스러운 동전을 주웠다!
				LOCAL = (RAND:10 + 1) * 1000
				PRINTFORMW {LOCAL}원 얻었다
				MONEY += LOCAL
				TT_맵:(TT_NOW:0):(TT_NOW:1) = 0
		ENDSELECT
	CASE "적"
		TT_ENAMY = 0
		PRINTFORMW 
		CALLNAME:TARGET = 
		NAME:TARGET = 
		BASE:TARGET:체력 = 
		ABL:TARGET:전투능력 = 
		ABL:TARGET:레벨 = 
		CFLAG:TARGET:힘 = 
		CFLAG:TARGET:지성 = 
		CFLAG:TARGET:속도 = 
		CFLAG:TARGET:인내 = 
		CFLAG:TARGET:운 = 
		CFLAG:물리내성 = 
		CFLAG:정신내성 = 
		TALENT:TARGET:정화 = 1
		TALENT:TARGET:탄막소사 = 1
		TALENT:TARGET:전투스타일 = 1
	CASE "적애프터"
		SELECTCASE ARG
			CASE 0
				SELECTCASE ARG:1
					CASE 0
						;타겟 패배
						PRINTFORML 
						TT_TIMEOUT -= RAND:10
					CASE 1
						;무승부
						PRINTFORML 
						TT_TIMEOUT -= RAND:25
					CASE 2
						PRINTFORML 
						TT_TIMEOUT -= RAND:100 + 1
				ENDSELECT
				PRINTW

			CASE 1

		ENDSELECT
ENDSELECT
[SKIPEND]
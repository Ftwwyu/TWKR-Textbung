
@TSC_22
PRINTL
PRINTFORML 가진 고기나 뼈들을 먹기 좋게 손질합니다
DRAWLINE
PRINTFORML [0081] %ITEMNAME:0081,16,RIGHT% x{ITEM:0081,3,RIGHT} -> 다양한 식재료
PRINTFORML [0082] %ITEMNAME:0082,16,RIGHT% x{ITEM:0082,3,RIGHT} -> 다양한 식재료
PRINTFORML [0083] %ITEMNAME:0083,16,RIGHT% x{ITEM:0083,3,RIGHT} -> 다양한 식재료
PRINTFORML [0631] %ITEMNAME:0631,16,RIGHT% x{ITEM:0631,3,RIGHT} -> 뼈 / 15
PRINTFORML [0701] %ITEMNAME:0701,16,RIGHT% x{ITEM:0701,3,RIGHT} -> 고기
PRINTFORML [0702] %ITEMNAME:0702,16,RIGHT% x{ITEM:0702,3,RIGHT} -> 고기
PRINTFORML [0703] %ITEMNAME:0703,16,RIGHT% x{ITEM:0703,3,RIGHT} -> 고기
PRINTFORML [0705] %ITEMNAME:0705,16,RIGHT% x{ITEM:0705,3,RIGHT} -> 고기
PRINTFORML [1001] %ITEMNAME:1001,16,RIGHT% x{ITEM:1001,3,RIGHT} -> 고기 * 5
DRAWLINE
PRINTFORML [999] 돌아간다
$LOOP
INPUT
PRINTL
IF RESULT == 999
	RETURN
ELSEIF 손질가능(RESULT) == 1
	LOCAL = RESULT
	IF ITEM:LOCAL > 0 
		ITEM:LOCAL--
		ITEM:고기++
		PRINTFORML %ITEMNAME:LOCAL% 1개를 손질해 고기 1인분을 얻었다
		TIME += 5
	ENDIF
ELSEIF 손질가능(RESULT) == 2
	LOCAL = RESULT
	IF ITEM:LOCAL >= 15
		ITEM:LOCAL-= 15
		ITEM:뼈++
		PRINTFORML %ITEMNAME:LOCAL% 15개를 손질해 뼈 1인분을 얻었다
		TIME += 5
	ELSE
		PRINTFORMW 재료가 모자라다
	ENDIF
ELSEIF 손질가능(RESULT) == 3
	LOCAL = RESULT
	IF ITEM:LOCAL > 0 
		ITEM:LOCAL--
		ITEM:고기+=5
		PRINTFORML %ITEMNAME:LOCAL% 1개를 손질해 고기 5인분을 얻었다
		TIME += 5
	ENDIF
ELSEIF 손질가능(RESULT) == 4
	LOCAL = RESULT
	IF ITEM:LOCAL > 0 
		ITEM:LOCAL--
		PRINTFORML %ITEMNAME:LOCAL% 1개를 까서
		SELECTCASE LOCAL
			CASE 81
				SELECTCASE RAND:5
					CASE 0
						ITEM:쌀 += 3
						PRINTFORML 쌀 3개를 얻었다
					CASE 1
						ITEM:쌀 += 1
						ITEM:순무 += 1
						PRINTFORML 쌀 하나와 순무 하나를 얻었다
					CASE 2
						ITEM:고기+=1
						PRINTFORML 고기 하나를 얻었다
					CASE 3
						ITEM:미원 += 1
						ITEM:쌀 += 1
						PRINTFORML 미원 하나와 쌀 하나를 얻었다
					CASE 4
						ITEM:발포주 += 1
						PRINTFORML 발포주 하나를 얻었다
				ENDSELECT
			CASE 82
				SELECTCASE RAND:4
					CASE 0
						ITEM:고기+=2
						ITEM:감자 += 2
						PRINTFORML 고기 2개와 감자 2개를 얻었다
					CASE 1
						ITEM:맥주 += 1
						ITEM:감자 += 1
						ITEM:쌀 += 2
						PRINTFORML 맥주 1개와 감자 1개, 쌀 2개를 얻었다
					CASE 2
						ITEM:당근 += 1
						ITEM:파 += 1
						ITEM:고기+= 1
						ITEM:감자 += 1
						PRINTFORML 당근 1개와 파 1개와 고기 1개, 감자 1개를 얻었다
					CASE 3
						ITEM:죽순 += 2
						ITEM:쌀 += 1
						ITEM:영양강화제 += 1
						PRINTFORML 죽순 2개와 쌀 1개, 영양강화제 1개를 얻었다
				ENDSELECT
			CASE 83
				SELECTCASE RAND:4
					CASE 0
						ITEM:쌀 += 3
						ITEM:청주 += 1
						ITEM:고기+= 1
						PRINTFORML 쌀 3개와 청주 1개와 고기 1개를 얻었다
					CASE 1
						ITEM:물고기 += 2
						ITEM:소주 += 1
						PRINTFORML 물고기 2개와 소주 한 병을 얻었다
					CASE 2
						ITEM:고기+= 1
						ITEM:우유+= 2
						PRINTFORML 고기 1개와 우유 2개를 얻었다
					CASE 3
						ITEM:영양강화제 += 1
						ITEM:미원 += 2
						ITEM:뼈 += 1
						PRINTFORML 영양강화제 1개와 미원 2개, 뼈 1개를 얻었다
				ENDSELECT
		ENDSELECT
		TIME += 5
	ENDIF
ELSE
	GOTO LOOP
ENDIF
RESTART

@손질가능(ARG)
#FUNCTION
SELECTCASE ARG
	CASE 701,702,703,705
		RETURNF 1
	CASE 631
		RETURNF 2
	CASE 1001
		RETURNF 3
	CASE 81,82,83
		RETURNF 4
ENDSELECT

@TSC_NAME22
#DIMS DYNAMIC 커맨드이름
커맨드이름 = 식자재 손질
RESULTS = %커맨드이름%

@TSC_ABLE22


;주방인가
SIF !KITCHEN(CFLAG:MASTER:현재위치)
	RETURN 0
;기력 0
SIF BASE:MASTER:기력 <= 0
	RETURN 0
SIF CFLAG:우후후 == 2
	RETURN 0
;정지 중에는 불가
SIF FLAG:70
	RETURN 0
RETURN 2


